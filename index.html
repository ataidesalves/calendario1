<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Calendário Anual PDF</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.min.js"></script>

<style>
body {
    font-family: Arial, sans-serif;
    margin: 20px;
}

#controls {
    margin-bottom: 20px;
}

/* Layout */
#calendar {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 4px;
}

/* Cada mês */
.month {
    width: calc(33% - 20px);
    border: 1px solid #ccc;
    padding: 10px;
    border-radius: 8px;
}

.month h3 {
    text-align: center;
    margin: 3px 0;
}

/* Tabela */
table {
    width: 100%;
    border-collapse: collapse;
    font-size: 12px;
}

th, td {
    text-align: center;
    padding: 2px;
    border: 1px solid #ddd;
}

th {
    background: #f0f0f0;
}

/* ---- DOMINGO EM VERMELHO ---- */
table th:nth-child(1),
table td:nth-child(1) {
    color: red;
    font-weight: bold;
}

/* ---- SÁBADO EM AZUL ---- */
table th:nth-child(7),
table td:nth-child(7) {
    color: blue;
    font-weight: bold;
}

/* Área do PDF */
#pdfArea {
    padding: 20px;
}

button {
    padding: 8px 14px;
    font-size: 16px;
    margin-right: 10px;
    cursor: pointer;
}
</style>
</head>
<body>

<h2>Gerar Calendário Anual</h2>

<div id="controls">
    <label>Digite o ano: </label>
    <input type="number" id="yearInput" min="1900" max="2100" value="2025">
    <button onclick="generateCalendar()">Gerar Calendário</button>
    <button onclick="downloadPDF()">Salvar em PDF (A4)</button>
</div>

<div id="pdfArea">
    <div id="calendar"></div>
</div>

<script>
function generateCalendar() {
    const year = document.getElementById("yearInput").value;
    const calendarDiv = document.getElementById("calendar");
    calendarDiv.innerHTML = ""; 

    const months = [
        "Janeiro","Fevereiro","Março","Abril","Maio","Junho",
        "Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"
    ];

    for (let i = 0; i < 12; i++) {
        const firstDay = new Date(year, i, 1).getDay();
        const daysInMonth = new Date(year, i + 1, 0).getDate();

        let html = `<div class="month"><h3>${months[i]} ${year}</h3>`;
        html += "<table><tr><th>Dom</th><th>Seg</th><th>Ter</th><th>Qua</th><th>Qui</th><th>Sex</th><th>Sáb</th></tr><tr>";

        let day = 1;

        for (let j = 0; j < firstDay; j++) html += "<td></td>";

        for (let j = firstDay; j < 7; j++) html += `<td>${day++}</td>`;
        html += "</tr>";

        while (day <= daysInMonth) {
            html += "<tr>";
            for (let j = 0; j < 7; j++) {
                html += day <= daysInMonth ? `<td>${day}</td>` : "<td></td>";
                day++;
            }
            html += "</tr>";
        }

        html += "</table></div>";
        calendarDiv.innerHTML += html;
    }
}

function downloadPDF() {
    const element = document.getElementById("pdfArea");

    const opt = {
        margin: 3,
        filename: "calendario.pdf",
        html2canvas: { scale: 3 },
        jsPDF: { unit: "mm", format: "a4", orientation: "portrait" }
    };

    html2pdf().set(opt).from(element).save();
}

window.onload = generateCalendar;
</script>

</body>
</html>
